(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],u=0,v=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(v.length)v.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},r={app:0},a=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/MyEvent/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"057c":function(t,e,n){},"0eda":function(t,e,n){"use strict";n("afc7")},1154:function(t,e,n){"use strict";n("3433")},"1b5e":function(t,e,n){},3433:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[t.errors.length>0?n("v-overlay",{attrs:{value:!0}},t._l(this.errors,(function(e){return n("div",{key:e},[n("div",{staticClass:"text-h3 black--text"},[t._v(t._s(e))])])})),0):t._e(),n("div",[0==t.errors.length?n("div",{staticClass:"topBar"},[n("TopBar")],1):t._e(),n("div",[[n("v-tabs",[n("v-tab",{staticClass:"tab",on:{click:t.eventsTabClicked}},[t._v("EVENTS")]),n("v-tab",{staticClass:"tab",on:{click:t.friendsTabClicked}},[t._v("FRIENDS")]),n("v-tab",{staticClass:"tab",on:{click:t.optionsTabClicked}},[t._v("OPTIONS")])],1)]],2)]),n("v-main",[n("router-view")],1)],1)},a=[],i=(n("caad"),n("2532"),n("bc3a")),o=n.n(i),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("v-col",{staticClass:"text-h5",attrs:{cols:"3"}},[t._v(" MyEvent ")]),n("v-col",{staticClass:"text-subtitle-1",attrs:{cols:"3"}},[t._v(" "+t._s(this.$store.state.location.locationAdress)+" "),n("v-icon",{attrs:{small:""}},[t._v("place")])],1),this.$store.getters["login/isLoggedIn"]?n("v-col",{staticClass:"text-subtitle-1",attrs:{cols:"10"}},[n("v-row",[n("v-col",{attrs:{cols:"5"}},[n("v-row",{attrs:{justify:"end"}},[t._v(t._s(this.$store.getters["login/getUserCreds"].Email))]),n("v-row",{staticClass:"mr-15",attrs:{justify:"end"}},[t._v(t._s(this.$store.getters["login/getUserCreds"].Username))])],1),n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"d-flex justify-start",attrs:{large:""}},[t._v("account_circle")])],1),n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"d-flex justify-end",attrs:{large:""},on:{click:t.logOutClicked}},[t._v("logout")])],1)],1)],1):n("v-col",{attrs:{cols:"6"}},[n("v-row",[n("v-col",{attrs:{cols:"10"}}),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{depressed:"",color:"green darken-4"},on:{click:t.loginClicked}},[t._v(" Login ")])],1)],1)],1)],1)},l=[],d={name:"TopBar",data:function(){return{}},computed:{},mounted:function(){this.getCurrentLocation(),console.log(this)},methods:{getStreetAddressFrom:function(t,e){var n=this;o.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+e+"&key="+this.$googleApiKey+"&language=en").then((function(t){console.log(t.data),n.$store.commit("location/setLocationAdress",t.data.results[t.data.results.length-2].formatted_address),n.$store.commit("location/setLocationAdressShort",t.data.results[t.data.results.length-2].address_components[0].short_name)})).catch((function(t){console.log(t.data)}))},loginClicked:function(){this.$router.push("/signin")},getCurrentLocation:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.$store.commit("location/setLocationCoordinates",{latitude:e.coords.latitude,longitude:e.coords.longitude}),t.getStreetAddressFrom(e.coords.latitude,e.coords.longitude)}),(function(e){console.log(e.message),t.$toast.error("Please, enable geolocation and reload the page",{duration:5e3})}))},logOutClicked:function(){this.$store.commit("login/changeLogInStatus",!1),this.$store.dispatch("login/logout")}}},u=d,v=n("2877"),m=n("6544"),f=n.n(m),p=n("40dc"),g=n("8336"),h=n("62ad"),C=n("132d"),_=n("0fd9"),b=Object(v["a"])(u,c,l,!1,null,null,null),I=b.exports;f()(b,{VAppBar:p["a"],VBtn:g["a"],VCol:h["a"],VIcon:C["a"],VRow:_["a"]});var x={name:"App",data:function(){return{errors:[]}},created:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){o.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.coords.latitude+","+e.coords.longitude+"&key="+t.$googleApiKey+"&language=en").then((function(e){e.data.results[0].formatted_address.includes("Ukraine")||t.errors.push("Sorry, the application currently works only in Ukraine")}))}),(function(e){console.log(e.message),t.errors.push("Please, enable geolocation and reload the page")}))},computed:{},components:{TopBar:I},methods:{eventsTabClicked:function(){this.$store.dispatch("eventsTabClicked")},optionsTabClicked:function(){this.$store.dispatch("optionsTabClicked")},friendsTabClicked:function(){this.$store.dispatch("friendsTabClicked")}}},E=x,k=(n("9ba1"),n("7496")),y=n("f6c4"),w=n("a797"),U=n("71a3"),$=n("fe57"),L=Object(v["a"])(E,r,a,!1,null,"f216e0ba",null),V=L.exports;f()(L,{VApp:k["a"],VMain:y["a"],VOverlay:w["a"],VTab:U["a"],VTabs:$["a"]});n("d3b7");var S=n("48ac"),D=n.n(S),A=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("AuthComponent")],1)},O=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-dialog",{attrs:{persistent:"","max-width":"600px","min-width":"360px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("div",[n("v-tabs",{attrs:{"show-arrows":"","background-color":"deep-purple accent-4","icons-and-text":"",dark:"",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"purple darken-4"}}),n("v-row",[n("v-col",{attrs:{cols:"5"}},[n("v-tab",[n("v-icon",{attrs:{large:""}},[t._v("mdi-account")]),n("div",{staticClass:"caption py-1"},[t._v("Login")])],1)],1),n("v-col",{attrs:{cols:"5"}},[n("v-tab",[n("v-icon",{attrs:{large:""}},[t._v("mdi-account-outline")]),n("div",{staticClass:"caption py-1"},[t._v("Register")])],1)],1),n("v-col",{attrs:{cols:"2"}},[n("v-button",{staticClass:"v-slider__thumb",on:{click:t.Close}},[n("span",{staticClass:"material-icons ml-14",attrs:{large:""}},[t._v(" cancel ")])])],1)],1),n("v-tab-item",[n("v-card",{staticClass:"px-4"},[n("v-card-text",[n("v-form",{ref:"loginForm",attrs:{"lazy-validation":""},model:{value:t.validLoginForm,callback:function(e){t.validLoginForm=e},expression:"validLoginForm"}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:[t.rules.required],label:"Username",required:""},model:{value:t.loginUsername,callback:function(e){t.loginUsername=e},expression:"loginUsername"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{"append-icon":t.show1?"eye":"eye-off",rules:[t.rules.required],type:t.show1?"text":"password",name:"input-10-1",label:"Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.loginPassword,callback:function(e){t.loginPassword=e},expression:"loginPassword"}})],1),n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"6",xsm:"12"}}),n("v-spacer"),n("v-col",{attrs:{cols:"8"}},[this.$store.getters["login/IsCorrect"]?t._e():n("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},t._l(this.$store.state.login.errors,(function(e){return n("li",{key:e,staticClass:"text-caption"},[t._v(" "+t._s(e)+" ")])})),0)],1),n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3",xsm:"12","align-end":""}},[n("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.validLoginForm||"loading"===this.$store.state.login.status,color:"success"},on:{click:t.validateLogin}},[t._v(" Login ")])],1)],1)],1)],1)],1)],1),n("v-tab-item",[n("v-card",{staticClass:"px-4"},[n("v-card-text",[n("v-form",{ref:"registerForm",attrs:{"lazy-validation":""},model:{value:t.validRegisterForm,callback:function(e){t.validRegisterForm=e},expression:"validRegisterForm"}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:[t.rules.required],label:"UserName",required:""},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{rules:[t.rules.email,t.rules.required],label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{"append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required],type:t.show1?"text":"password",name:"input-10-1",label:"Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{block:"","append-icon":t.show1?"mdi-eye":"mdi-eye-off",rules:[t.rules.required,t.passwordMatch],type:t.show1?"text":"password",name:"input-10-1",label:"Confirm Password",counter:""},on:{"click:append":function(e){t.show1=!t.show1}},model:{value:t.verify,callback:function(e){t.verify=e},expression:"verify"}})],1),n("v-spacer"),n("v-col",{attrs:{cols:"8"}},[this.$store.getters["registration/IsCorrect"]?t._e():n("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},t._l(this.$store.state.registration.errors,(function(e){return n("li",{key:e,staticClass:"text-caption"},[t._v(" "+t._s(e)+" ")])})),0)],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{"x-large":"",block:"",disabled:!t.validRegisterForm||"loading"===this.$store.state.registration.status,color:"success"},on:{click:t.validateRegister}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],1)],1)])],1)},T=[],j=(n("ac1f"),n("00b4"),{mounted:function(){console.log(this.$store)},name:"Auth",computed:{passwordMatch:function(){var t=this;return function(){return t.password===t.verify||"Password must match"}}},methods:{validateRegister:function(){var t=this;this.$refs.registerForm.validate()&&this.$store.dispatch("registration/register",{Username:this.userName,Email:this.email,Password:this.password}).then((function(){t.$store.dispatch("login/login",{Username:t.userName,Password:t.password}).then((function(){t.$toast.success("Registration successful",{position:"bottom-left",timeout:3e3,closeOnClick:!0,closeButton:"button",icon:!0,rtl:!1})})),t.$router.push("/")}))},Close:function(){this.$router.push("/")},validateLogin:function(){var t=this;this.$refs.loginForm.validate()&&this.$store.dispatch("login/login",{Username:this.loginUsername,Password:this.loginPassword}).then((function(){t.$toast.success("Login successful",{position:"bottom-left",timeout:3e3,closeOnClick:!0,closeButton:"button",icon:!0,rtl:!1}),t.$router.push("/")}))},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}},data:function(){return{dialog:!0,tab:0,userName:"",email:"",password:"",verify:"",loginPassword:"",loginUsername:"",validLoginForm:!0,validRegisterForm:!0,show1:!1,rules:{required:function(t){return!!t||"Required."},email:function(t){return!t||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}}}}}),R=j,M=(n("8738"),n("0798")),N=n("b0af"),q=n("99d9"),B=n("169a"),z=n("4bd4"),G=n("2fa4"),J=n("c671"),K=n("9a96"),Y=n("8654"),H=Object(v["a"])(R,F,T,!1,null,"55750630",null),W=H.exports;f()(H,{VAlert:M["a"],VApp:k["a"],VBtn:g["a"],VCard:N["a"],VCardText:q["c"],VCol:h["a"],VDialog:B["a"],VForm:z["a"],VIcon:C["a"],VRow:_["a"],VSpacer:G["a"],VTab:U["a"],VTabItem:J["a"],VTabs:$["a"],VTabsSlider:K["a"],VTextField:Y["a"]});var X={name:"AuthView",components:{AuthComponent:W}},Z=X,Q=Object(v["a"])(Z,P,O,!1,null,null,null),tt=Q.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("EventsMenu",{staticClass:"ml-10"})],1),n("v-col",{attrs:{cols:"8"}},[n("v-checkbox",{staticClass:"ml-12",on:{change:t.CheckboxChanged},scopedSlots:t._u([{key:"label",fn:function(){return[n("div",{staticClass:"text-h5"},[t._v(" Only nearby events ")]),t.checkbox?n("v-icon",{staticClass:"ml-5",attrs:{large:""}},[t._v("near_me")]):t._e()]},proxy:!0}]),model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),t.checkbox?t._e():n("EventsSortbar",{staticClass:"ml-10"})],1)],1),n("v-row",[n("EventsList")],1)],1)},nt=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{elevation:"12",width:"256"}},[n("v-navigation-drawer",{attrs:{floating:"",permanent:""}},[n("v-list",{attrs:{dense:"",rounded:""}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(" lock ")])],1),n("v-list-item-content",{on:{click:t.AllEventsClicked}},[n("v-list-item-title",[t._v(" All events ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(" list ")])],1),n("v-list-item-content",{on:{click:t.UserEventsClicked}},[n("v-list-item-title",[t._v(" My events ")])],1)],1)],1)],1)],1)},rt=[],at={name:"EventsMenu",computed:{},methods:{AllEventsClicked:function(){this.$router.push("/")},UserEventsClicked:function(){this.$router.push("/userevents")}},data:function(){return{}}},it=at,ot=n("8860"),ct=n("da13"),lt=n("5d23"),dt=n("34c3"),ut=n("f774"),vt=Object(v["a"])(it,st,rt,!1,null,null,null),mt=vt.exports;f()(vt,{VCard:N["a"],VIcon:C["a"],VList:ot["a"],VListItem:ct["a"],VListItemContent:lt["a"],VListItemIcon:dt["a"],VListItemTitle:lt["b"],VNavigationDrawer:ut["a"]});var ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{staticClass:"d-flex align-center  flex-row",attrs:{cols:"6"}},[n("v-text-field",{attrs:{color:"purple darken-2",label:"Search events"},on:{input:t.up},model:{value:t.searchField,callback:function(e){t.searchField=e},expression:"searchField"}}),n("v-icon",[t._v("search")])],1),n("v-col",{attrs:{cols:"5"}},[n("v-select",{attrs:{items:t.getListOfLocations,change:t.selectChanged,label:"Select",multiple:"",chips:"",hint:"What are the target regions","persistent-hint":""},model:{value:t.pickedLocations,callback:function(e){t.pickedLocations=e},expression:"pickedLocations"}})],1)],1)},pt=[],gt=n("5530"),ht=n("2f62"),Ct={name:"EventsSortbar",computed:Object(gt["a"])({getListOfLocations:function(){return this.$store.getters["sortBar/getAllEventAdresses"]},selectChanged:function(){this.pickedLocations.length>0&&this.$store.dispatch("sortBar/filterData",this.pickedLocations)}},Object(ht["b"])({allCurrentLocations:"sortBar/getAllEventAdresses"})),methods:{up:function(){switch(this.$store.commit("sortBar/changeTextData",this.searchField),this.$route.path){case"/":this.$store.dispatch("events/getAllUpcomingEvents",this.searchField);break;case"/userevents/myevents":this.$store.dispatch("myEvents/getAllUserEvents",{userId:this.$store.getters["login/getUserCreds"].UserId,textToSearch:this.searchField});break;case"/userevents/finished":this.$store.dispatch("myEvents/getAllFinishedUserEvents",{userId:this.$store.getters["login/getUserCreds"].UserId,textToSearch:this.searchField});break}}},mounted:function(){var t=this;switch(this.pickedLocations=this.$store.getters["sortBar/getAllEventAdresses"],this.$store.commit("sortBar/changeTextData","ANY"),this.searchField="",this.$store.state.route.fullPath){case"/":this.$store.dispatch("events/getAllUpcomingEvents",this.searchField).then((function(){return t.$store.dispatch("sortBar/filterData",t.pickedLocations)}));break;case"/userevents/myevents":this.$store.dispatch("myEvents/getAllUserEvents",{userId:this.$store.getters["login/getUserCreds"].UserId,textToSearch:this.searchField}).then((function(){return t.$store.dispatch("sortBar/filterData",t.pickedLocations)}));break;case"/userevents/finished":this.$store.dispatch("myEvents/getAllFinishedUserEvents",{userId:this.$store.getters["login/getUserCreds"].UserId,textToSearch:this.searchField}).then((function(){return t.$store.dispatch("sortBar/filterData",t.pickedLocations)}));break}},data:function(){return{searchField:"",states:[],pickedLocations:[]}},watch:{allCurrentLocations:function(t,e){this.pickedLocations=t}}},_t=Ct,bt=(n("e434"),n("b974")),It=Object(v["a"])(_t,ft,pt,!1,null,"4ee27e35",null),xt=It.exports;f()(It,{VCol:h["a"],VIcon:C["a"],VRow:_["a"],VSelect:bt["a"],VTextField:Y["a"]});var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{staticClass:"d-flex align-start justify-start  flex-row"},t._l(this.$store.getters["sortBar/getCurrentUpcomingEventItems"],(function(e){return n("v-col",{key:e.eventId,attrs:{cols:"4"}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[t.IsLoggedIn&&t.IsUserAnAuthor(e)?n("v-overlay",{attrs:{absolute:!0,value:!0}},[n("span",{staticClass:"text-h6 font-weight-bold "},[t._v("You are the author")])]):t._e(),n("v-img",{attrs:{height:"250",src:e.imagePath}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[t._v(t._s(e.eventName))])],1),n("v-col",{attrs:{cols:"6"}},[n("v-card-subtitle",[t._v(t._s(e.pariticipantsIds.length)+" participants")])],1)],1),n("v-card-text",[e.isCreatedFromOriginal?n("v-row",{staticClass:"mx-0 mb-3",attrs:{align:"center"}},[n("v-rating",{attrs:{value:e.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(e.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(e.reviewsCount)+" reviews) ")])],1):t._e(),n("div",{staticClass:"d-flex align-center justify-start  flex-row"},[n("div",{staticClass:"my-4 text-subtitle-1 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(e.startDatetime,e.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(e.endDatetime,e.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")]),e.isCreatedFromOriginal?n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("restart_alt")]):t._e()],1),n("div",{staticClass:"description"},[t._v(t._s(t._f("textTruncate")(e.description,e.description)))])],1),n("v-divider",{staticClass:"mx-4"}),t.IsLoggedIn?n("div",[t.IsUserAnAuthor(e)?n("div"):t.IsAlreadySubscribed(e)?n("div",[n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:function(n){return t.DetailsClicked(e)}}},[t._v(" Details ")]),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"red"},on:{click:function(n){return t.UnsubscribeClicked(e)}}},[t._v(" Unsubscribe ")])],1):n("div",[n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:function(n){return t.DetailsClicked(e)}}},[t._v(" Details ")]),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"primary"},on:{click:function(n){return t.SubscribeClicked(e)}}},[t._v(" Subscribe ")])],1)]):n("div",[n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:t.LogOut}},[t._v(" Details ")]),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"primary"},on:{click:t.LogOut}},[t._v(" Subscribe ")])],1),e.friendsParticipantCount>0?n("v-alert",{attrs:{dense:"",type:"info"}},[t._v(" One of your friends participate here ")]):t._e()],1)],1)})),1)},kt=[],yt=(n("a434"),{computed:{IsUserAnAuthor:function(){var t=this;return function(e){return e.authorId===t.$store.getters["login/getUserCreds"].UserId}},IsAlreadySubscribed:function(){var t=this;return function(e){return e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId)>-1}},IsLoggedIn:function(){return this.$store.getters["login/isLoggedIn"]}}}),wt={name:"EventsList",mixins:[yt],computed:{SubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.push(t.$store.getters["login/getUserCreds"].UserId),t.$store.dispatch("events/addEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}},UnsubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.splice(e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId),1),t.$store.dispatch("events/deleteEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}},DetailsClicked:function(){var t=this;return function(e){t.$router.push({name:"eventpage",params:{event:e}})}}},methods:{LogOut:function(){this.$router.push("/signin")}},data:function(){return{loading:!1,selection:1}}},Ut=wt,$t=(n("f252"),n("ce7e")),Lt=n("adda"),Vt=n("1d4d"),St=Object(v["a"])(Ut,Et,kt,!1,null,"655eb7cc",null),Dt=St.exports;f()(St,{VAlert:M["a"],VBtn:g["a"],VCard:N["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VCol:h["a"],VDivider:$t["a"],VIcon:C["a"],VImg:Lt["a"],VOverlay:w["a"],VRating:Vt["a"],VRow:_["a"]});var At={name:"AllEventsView",components:{EventsMenu:mt,EventsSortbar:xt,EventsList:Dt},methods:{CheckboxChanged:function(){this.checkbox&&this.$store.dispatch("events/getNearestEvents",this.$store.getters["location/getFormattedLocation"])}},data:function(){return{checkbox:!1}}},Pt=At,Ot=n("ac7c"),Ft=Object(v["a"])(Pt,et,nt,!1,null,null,null),Tt=Ft.exports;f()(Ft,{VCheckbox:Ot["a"],VCol:h["a"],VIcon:C["a"],VRow:_["a"]});var jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",{attrs:{cols:"4"}},[n("FriendsMenu",{staticClass:"ml-10",on:{tabChanged:t.TabChangeClicked}})],1),"Invitations"==t.tabName?n("v-col",{staticClass:"d-flex align-center  flex-row",attrs:{cols:"5"}},[n("v-autocomplete",{attrs:{"search-input":t.currentInputValue,items:t.$store.getters["friends/getAllUsersLogins"],color:"white",label:"Add friends",placeholder:"Start typing to search","prepend-icon":"mdi-account-search"},on:{"update:searchInput":function(e){t.currentInputValue=e},"update:search-input":function(e){t.currentInputValue=e}},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"10"}},[t._v(" "+t._s(s)+" "),n("v-icon",{staticClass:"ml-8",attrs:{large:""}},[t._v("account_circle")])],1),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{small:"",fab:"",dark:"",color:"indigo"},on:{click:function(e){return t.AddInvitationClicked(s)}}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1)],1)]}}],null,!1,436300003)})],1):t._e()],1),n("div",{staticClass:"mt-10 ml-5 mr-5",attrs:{width:"100%"}},["Friends"==t.tabName?n("UserFriends"):n("FriendInvitations")],1)],1)},Rt=[],Mt=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$store.state.friends.allUserFriends.length>0?n("v-card",[n("v-list",[t._l(t.$store.state.friends.allUserFriends,(function(e){return[n("v-list-item",{key:e.id,staticClass:"mt-5"},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{attrs:{large:""}},[t._v("account_circle")])],1),n("v-col",{staticClass:"d-flex flex-column ",attrs:{cols:"10"}},[n("div",[t._v(t._s(e.login))]),n("div",{staticClass:"text-subtitle-1"},[t._v(t._s(e.email))])])],1)],1),n("v-divider",{key:e.id,staticClass:"mt-5"})]}))],2)],1):n("div",{staticClass:"text-h1 d-flex justify-center text-h1"},[n("div",[t._v(" You dont have friends yet. Invite someone ")])])],1)}),Nt=[],qt={name:"UserFriends",methods:{},mounted:function(){this.$store.dispatch("friends/getUserFriends",this.$store.getters["login/getUserCreds"].UserId)},data:function(){return{}}},Bt=qt,zt=Object(v["a"])(Bt,Mt,Nt,!1,null,null,null),Gt=zt.exports;f()(zt,{VCard:N["a"],VCol:h["a"],VDivider:$t["a"],VIcon:C["a"],VList:ot["a"],VListItem:ct["a"],VRow:_["a"]});var Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-list",[t._l(t.$store.state.friends.friendInvitations,(function(e){return[n("v-list-item",{key:e.id,staticClass:"mt-5"},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{attrs:{large:""}},[t._v("account_circle")])],1),n("v-col",{staticClass:"d-flex flex-column ",attrs:{cols:"7"}},[n("div",[t._v(t._s(e.authorName))]),n("div",{staticClass:"text-subtitle-1"},[t._v(t._s(e.authorEmail))])]),n("v-col",{staticClass:"d-flex flex-column ",attrs:{cols:"4"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(n){return t.ApproveClicked(e)}}},[t._v("Approve")]),n("v-btn",{staticClass:"mt-2",attrs:{color:"red"},on:{click:function(n){return t.RejectClicked(e)}}},[t._v("Reject")])],1)],1)],1),n("v-divider",{key:e.id,staticClass:"mt-5"})]}))],2)],1)],1)},Kt=[],Yt={name:"FriendInvitations",computed:{},methods:{ApproveClicked:function(t){this.$store.dispatch("friends/approveInvitation",t.invitationId)},RejectedClicked:function(t){this.$store.dispatch("friends/rejectInvitation",t.invitationId)}},data:function(){return{}}},Ht=Yt,Wt=Object(v["a"])(Ht,Jt,Kt,!1,null,null,null),Xt=Wt.exports;f()(Wt,{VBtn:g["a"],VCard:N["a"],VCol:h["a"],VDivider:$t["a"],VIcon:C["a"],VList:ot["a"],VListItem:ct["a"],VRow:_["a"]});var Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{elevation:"12",width:"256"}},[n("v-navigation-drawer",{attrs:{floating:"",permanent:""}},[n("v-list",{attrs:{dense:"",rounded:""}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(" lock ")])],1),n("v-list-item-content",{on:{click:t.FriendsClicked}},[n("v-list-item-title",[t._v(" Friends ")])],1)],1),n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(" list ")])],1),n("v-list-item-content",{on:{click:t.UserEventsClicked}},[n("v-list-item-title",[t._v(" Invitations ")])],1)],1)],1)],1)],1)},Qt=[],te={name:"EventsMenu",computed:{},methods:{FriendsClicked:function(){this.$emit("tabChanged","Friends")},UserEventsClicked:function(){this.$emit("tabChanged","Invitations")}},mounted:function(){this.$store.dispatch("friends/getFriendsInvitations",this.$store.getters["login/getUserCreds"].UserId)},data:function(){return{}}},ee=te,ne=Object(v["a"])(ee,Zt,Qt,!1,null,null,null),se=ne.exports;f()(ne,{VCard:N["a"],VIcon:C["a"],VList:ot["a"],VListItem:ct["a"],VListItemContent:lt["a"],VListItemIcon:dt["a"],VListItemTitle:lt["b"],VNavigationDrawer:ut["a"]});var re={name:"FriendsView",components:{FriendsMenu:se,UserFriends:Gt,FriendInvitations:Xt},methods:{TabChangeClicked:function(t){this.tabName=t},AddInvitationClicked:function(t){var e=this.$store.state.friends.allUsers.filter((function(t){return t.login}))[0];this.$store.dispatch("friends/addFriendInvitation",{authorId:this.$store.getters["login/getUserCreds"].UserId,userReceiverId:e.id})}},mounted:function(){},data:function(){return{items:["John","Jake"],tabName:"Friends",currentInputValue:""}},watch:{currentInputValue:function(t,e){this.$store.dispatch("friends/getSearchedUsers",{toSearch:t,currentUserId:this.$store.getters["login/getUserCreds"].UserId})}}},ae=re,ie=n("c6a6"),oe=Object(v["a"])(ae,jt,Rt,!1,null,null,null),ce=oe.exports;f()(oe,{VAutocomplete:ie["a"],VBtn:g["a"],VCol:h["a"],VIcon:C["a"],VRow:_["a"]});var le,de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-center text-h1"},[t._v("Coming soon..))")])},ue=[],ve={name:"OptionsView",components:{}},me=ve,fe=Object(v["a"])(me,de,ue,!1,null,null,null),pe=fe.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("EventsMenu",{staticClass:"ml-10"})],1),n("v-col",{attrs:{offset:"1",cols:"6"}},[n("div",{staticClass:"text-h2 font-weight-thin"},[t._v(t._s(t.currentTitle))])])],1),n("v-navigation-drawer",{attrs:{color:"teal",app:""},model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}},[n("v-list",{attrs:{dense:"",rounded:""}},[n("v-list-item",{staticClass:"mt-5",attrs:{link:""},on:{click:t.MyEventsClicked}},[n("v-list-item-icon",{staticClass:"mr-5"},[n("v-icon",{attrs:{large:""}},[t._v(" today ")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",{staticClass:"text-h6 font-weight-bold "},[t._v("My events")])])],1)],1),n("v-list-item",{staticClass:"mt-5",attrs:{link:""},on:{click:t.FinishedEventsClicked}},[n("v-list-item-icon",{staticClass:"mr-5"},[n("v-icon",{attrs:{large:""}},[t._v(" check_circle_outline ")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",{staticClass:"text-h6 font-weight-bold"},[t._v("Finished events")])])],1)],1),n("v-list-item",{staticClass:"mt-5",attrs:{link:""},on:{click:t.AddEventClicked}},[n("v-list-item-icon",{staticClass:"mr-5"},[n("v-icon",{attrs:{large:""}},[t._v(" control_point ")])],1),n("v-list-item-content",[n("v-list-item-title",[n("span",{staticClass:"text-h6 font-weight-bold"},[t._v("Add event")])])],1)],1)],1)],1),n("router-view")],1)},he=[],Ce=n("ade3"),_e=(le={name:"UserEvents",computed:{},mounted:function(){this.$store.commit("myEvents/change_title","")}},Object(Ce["a"])(le,"computed",Object(gt["a"])({},Object(ht["c"])({currentTitle:function(t){return t.myEvents.currentTitle}}))),Object(Ce["a"])(le,"methods",{MyEventsClicked:function(){this.$router.push("/userevents/myevents"),this.$store.commit("myEvents/change_title","User events")},FinishedEventsClicked:function(){this.$router.push("/userevents/finished"),this.$store.commit("myEvents/change_title","Finished user events")},AddEventClicked:function(){this.$router.push("/userevents/addevent"),this.$store.commit("myEvents/change_title","New event")}}),Object(Ce["a"])(le,"data",(function(){return{sidebar:!0}})),Object(Ce["a"])(le,"components",{EventsMenu:mt}),le),be=_e,Ie=Object(v["a"])(be,ge,he,!1,null,"3d8cb000",null),xe=Ie.exports;f()(Ie,{VCol:h["a"],VIcon:C["a"],VList:ot["a"],VListItem:ct["a"],VListItemContent:lt["a"],VListItemIcon:dt["a"],VListItemTitle:lt["b"],VNavigationDrawer:ut["a"],VRow:_["a"]});var Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"1"}},[n("router-link",{attrs:{to:"/"}},[n("v-icon",{staticClass:"ml-10",attrs:{"x-large":""}},[t._v("arrow_back")])],1)],1),n("v-col",{attrs:{offset:"1",cols:"4"}},[n("v-img",{attrs:{"aspect-ratio":"0.1","max-height":"250",src:t.event.imagePath}}),n("div",{staticClass:"grey--text text-h1 text-darken-1 mb-2 text-center"},[t._v(" "+t._s(t.event.eventName)+" ")]),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("div",{staticClass:"my-4 text-h5 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(t.event.startDatetime,t.event.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(t.event.endDatetime,t.event.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")])],1),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("v-rating",{attrs:{value:t.event.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"30"}}),n("div",{staticClass:"grey--text ms-4 text-body-1"},[t._v(" "+t._s(t.event.rate)+" ")])],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-card",{staticClass:"text-body-1 pa-5 blue-grey lighten-3",attrs:{elevation:"2",outlined:"",shaped:"",tile:""}},[n("span",{staticClass:"description"},[t._v(t._s(t.event.description))])]),n("div",[t.IsAlreadySubscribed(t.event)?n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"red"},on:{click:function(e){return t.UnsubscribeClicked(t.event)}}},[t._v(" Unsubscribe ")]):n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.SubscribeClicked(t.event)}}},[t._v(" Subscribe ")])],1)],1)],1),t.isLocationLoaded?n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{offset:"2",cols:"8"}},[n("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.getEventLocation,zoom:12}},[n("GmapMarker",{attrs:{position:t.getEventLocation}})],1)],1)],1):t._e(),n("CommentsComponent",{attrs:{event:t.event}})],1)},ke=[],ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-col",{staticClass:"text-h4",attrs:{offset:"2",cols:"4"}},[t._v("Comments:")]),n("v-col",{attrs:{offset:"3",cols:"6"}},[n("div",{staticClass:"text-subtitle"},[t._v("Add new")]),n("v-text-field",{attrs:{label:"Type and hit enter",solo:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment.apply(null,arguments)}},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],1),n("v-col",{attrs:{offset:"3",cols:"6"}},[n("v-card",[n("v-card-text",[n("div",{staticClass:"font-weight-bold ml-8 mb-2"},[t._v(" Last 5 comments ")]),t._l(t.$store.getters["comments/getLastNComments"],(function(e){return n("v-timeline",{key:e.commentId||e.authorId,attrs:{"align-top":"",dense:""}},[n("v-timeline-item",{attrs:{small:""}},[n("div",[n("div",{staticClass:"font-weight-normal"},[n("strong",[t._v(t._s(e.authorName))]),t._v(" @"+t._s(t._f("eventConvertDatetime")(e.dateAdded,e.dateAdded))+" ")]),n("div",[t._v(t._s(e.comment))])])])],1)}))],2)],1)],1)],1)},we=[],Ue=(n("498a"),{props:{event:{}},name:"CommentsComponent",mixins:[yt],computed:{},methods:{addComment:function(){var t=this,e=this.currentValue.trim();if(""!=this.currentValue){var n=this.event.eventId;this.$store.dispatch("comments/addComment",{comment:e,authorId:this.$store.getters["login/getUserCreds"].UserId,eventId:n}).then((function(){return t.$store.dispatch("comments/getEventComments",t.event.eventId)}))}}},data:function(){return{currentValue:""}},mounted:function(){this.$store.dispatch("comments/getEventComments",this.event.eventId)}}),$e=Ue,Le=n("8414"),Ve=n("1e06"),Se=Object(v["a"])($e,ye,we,!1,null,null,null),De=Se.exports;f()(Se,{VCard:N["a"],VCardText:q["c"],VCol:h["a"],VTextField:Y["a"],VTimeline:Le["a"],VTimelineItem:Ve["a"]});var Ae={name:"EventPage",props:{event:{}},computed:{getEventLocation:function(){return this.event.location},IsAlreadySubscribed:function(){var t=this;return function(e){return e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId)>-1}},UnsubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.splice(e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId),1),t.$store.dispatch("events/deleteEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}},SubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.push(t.$store.getters["login/getUserCreds"].UserId),t.$store.dispatch("events/addEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}}},data:function(){return{isLocationLoaded:!1}},mounted:function(){var t=this,e=this.event.locationId,n=this.event.eventId;this.$store.dispatch("events/getEventLocation",{locationId:e,eventId:n}).then((function(){return t.isLocationLoaded=!0}))},components:{CommentsComponent:De}},Pe=Ae,Oe=(n("d45c"),Object(v["a"])(Pe,Ee,ke,!1,null,"244e6d42",null)),Fe=Oe.exports;f()(Oe,{VBtn:g["a"],VCard:N["a"],VCol:h["a"],VIcon:C["a"],VImg:Lt["a"],VRating:Vt["a"],VRow:_["a"]});var Te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("EventsSortbar",{staticClass:"ml-10 mt-10"}),n("v-col",{attrs:{offset:"7",cols:"4"}},[n("div",{staticClass:"d-flex",attrs:{sm:"6"}},[n("v-select",{attrs:{items:t.items,label:"Type of items",solo:""},on:{change:t.TypeChanged},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}})],1)]),t.currentItem==t.items[0]?n("div",[n("v-row",{staticClass:"d-flex align-start justify-start  flex-row"},t._l(this.$store.getters["sortBar/getCurrentUserEventItems"].createdEvents,(function(e){return n("v-col",{key:e.eventId,attrs:{cols:"4"}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[n("v-img",{attrs:{height:"250",src:e.imagePath}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[t._v(t._s(e.eventName))])],1),n("v-col",{attrs:{cols:"6"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on,a=s.attrs;return[n("v-card-subtitle",t._g(t._b({on:{click:function(n){return t.$store.dispatch("eventInfo/getEventParticipants",e.pariticipantsIds)}}},"v-card-subtitle",a,!1),r),[t._v(" "+t._s(e.pariticipantsIds.length)+" participants ")])]}},{key:"default",fn:function(e){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("List of participants")]),t.$store.getters["eventInfo/isEverythingLoaded"]?n("v-card-text",[n("v-list",{staticClass:"overflow-y-auto mx-auto",attrs:{"max-height":"500"}},[n("v-list-item",{staticClass:"d-flex flex-column"},t._l(t.$store.state.eventInfo.participantList,(function(e){return n("div",{key:e.name,staticClass:"participant"},[n("v-divider"),n("div",{staticClass:"d-flex flex-row"},[n("v-list-item-icon",[n("v-icon",{attrs:{large:""}},[t._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.name))])],1)],1)],1)})),0)],1)],1):t._e(),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}],null,!0)})],1)],1),n("v-card-text",[e.isCreatedFromOriginal?n("v-row",{staticClass:"mx-0 mb-3",attrs:{align:"center"}},[n("v-rating",{attrs:{value:e.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(e.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(e.reviewsCount)+" reviews) ")])],1):t._e(),n("div",{staticClass:"d-flex align-center justify-start  flex-row"},[n("div",{staticClass:"my-4 text-subtitle-1 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(e.startDatetime,e.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(e.endDatetime,e.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")]),e.IsCreatedFromOriginal?n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("restart_alt")]):t._e()],1),n("div",{staticClass:"description"},[t._v(t._s(t._f("textTruncate")(e.description,e.description)))])],1),n("v-divider",{staticClass:"mx-4"}),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:function(n){return t.UpdateClicked(e)}}},[t._v(" Update ")]),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"red"},on:{click:function(n){return t.CancelClicked(e)}}},[t._v(" Cancel ")]),e.friendsParticipantCount>0?n("v-alert",{attrs:{dense:"",type:"info"}},[t._v(" One of your friends participate here ")]):t._e()],1)],1)})),1)],1):n("div",[n("v-row",{staticClass:"d-flex align-start justify-start  flex-row"},t._l(this.$store.getters["sortBar/getCurrentUserEventItems"].participantEvents,(function(e){return n("v-col",{key:e.eventId,attrs:{cols:"4"}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[n("v-img",{attrs:{height:"250",src:e.imagePath}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[t._v(t._s(e.eventName))])],1),n("v-col",{attrs:{cols:"6"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on,a=s.attrs;return[n("v-card-subtitle",t._g(t._b({on:{click:function(n){return t.$store.dispatch("eventInfo/getEventParticipants",e.pariticipantsIds)}}},"v-card-subtitle",a,!1),r),[t._v(" "+t._s(e.pariticipantsIds.length)+" participants ")])]}},{key:"default",fn:function(e){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("List of participants")]),t.$store.getters["eventInfo/isEverythingLoaded"]?n("v-card-text",[n("v-list",{staticClass:"overflow-y-auto mx-auto",attrs:{"max-height":"500"}},[n("v-list-item",{staticClass:"d-flex flex-column"},t._l(t.$store.state.eventInfo.participantList,(function(e){return n("div",{key:e.name,staticClass:"participant"},[n("v-divider"),n("div",{staticClass:"d-flex flex-row"},[n("v-list-item-icon",[n("v-icon",{attrs:{large:""}},[t._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.name))])],1)],1)],1)})),0)],1)],1):t._e(),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}],null,!0)})],1)],1),n("v-card-text",[e.isCreatedFromOriginal?n("v-row",{staticClass:"mx-0 mb-3",attrs:{align:"center"}},[n("v-rating",{attrs:{value:e.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(e.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(e.reviewsCount)+" reviews) ")])],1):t._e(),n("div",{staticClass:"d-flex align-center justify-start  flex-row"},[n("div",{staticClass:"my-4 text-subtitle-1 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(e.startDatetime,e.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(e.endDatetime,e.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")]),e.IsCreatedFromOriginal?n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("restart_alt")]):t._e()],1),n("div",{staticClass:"description"},[t._v(t._s(t._f("textTruncate")(e.description,e.description)))])],1),n("v-divider",{staticClass:"mx-4"}),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:function(n){return t.DetailsClicked(e)}}},[t._v(" Details ")]),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"red"},on:{click:function(n){return t.UnsubscribeClicked(e)}}},[t._v(" Unsubscribe ")]),e.friendsParticipantCount>0?n("v-alert",{attrs:{dense:"",type:"info"}},[t._v(" One of your friends participate here ")]):t._e()],1)],1)})),1)],1)],1)},je=[],Re={name:"MyEvents",mixins:[yt],mounted:function(){this.currentItem=this.items[0]},watch:{currentItem:function(t,e){t==this.items[0]?this.$store.commit("myEvents/change_title","My events -> "+this.items[0]):this.$store.commit("myEvents/change_title","My events -> "+this.items[1])}},computed:{IsUserAnAuthor:function(){var t=this;return function(e){return e.authorId===t.$store.getters["login/getUserCreds"].UserId}},IsAlreadySubscribed:function(){var t=this;return function(e){return e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId)>-1}},IsLoggedIn:function(){return this.$store.getters["login/isLoggedIn"]},UnsubscribeClicked:function(){var t=this;return function(e){t.$store.commit("myEvents/removeUserAsParticipant",e),t.$store.dispatch("events/deleteEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}},UpdateClicked:function(){var t=this;return function(e){t.$router.push({name:"usercreatedeventpage",params:{event:e}})}},DetailsClicked:function(){var t=this;return function(e){t.$router.push({name:"userparticipanteventpage",params:{event:e}})}},CancelClicked:function(){var t=this;return function(e){t.$store.dispatch("myEvents/cancelEvent",e)}}},methods:{TypeChanged:function(){}},data:function(){return{items:["User created active events","Active events where user participate"],currentItem:null}},components:{EventsSortbar:xt}},Me=Re,Ne=(n("7bc1"),n("71d9")),qe=Object(v["a"])(Me,Te,je,!1,null,"00330598",null),Be=qe.exports;f()(qe,{VAlert:M["a"],VBtn:g["a"],VCard:N["a"],VCardActions:q["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VCol:h["a"],VDialog:B["a"],VDivider:$t["a"],VIcon:C["a"],VImg:Lt["a"],VList:ot["a"],VListItem:ct["a"],VListItemContent:lt["a"],VListItemIcon:dt["a"],VListItemTitle:lt["b"],VRating:Vt["a"],VRow:_["a"],VSelect:bt["a"],VToolbar:Ne["a"]});var ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("EventsSortbar",{staticClass:"ml-10 mt-10"}),n("v-col",{attrs:{offset:"7",cols:"4"}},[n("div",{staticClass:"d-flex",attrs:{sm:"6"}},[n("v-select",{attrs:{items:t.items,label:"Type of items",solo:""},on:{change:t.TypeChanged},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}})],1)]),t.currentItem==t.items[0]?n("div",[n("v-row",{staticClass:"d-flex align-start justify-start  flex-row"},t._l(this.$store.getters["sortBar/getCurrentUserEventItems"].cancelledEvents,(function(e){return n("v-col",{key:e.eventId,attrs:{cols:"4"}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[n("v-img",{attrs:{height:"250",src:e.imagePath}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[t._v(t._s(e.eventName))])],1),n("v-col",{attrs:{cols:"6"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on,a=s.attrs;return[n("v-card-subtitle",t._g(t._b({on:{click:function(n){return t.$store.dispatch("eventInfo/getEventParticipants",e.pariticipantsIds)}}},"v-card-subtitle",a,!1),r),[t._v(" "+t._s(e.pariticipantsIds.length)+" participants ")])]}},{key:"default",fn:function(e){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("List of participants")]),t.$store.getters["eventInfo/isEverythingLoaded"]?n("v-card-text",[n("v-list",{staticClass:"overflow-y-auto mx-auto",attrs:{"max-height":"500"}},[n("v-list-item",{staticClass:"d-flex flex-column"},t._l(t.$store.state.eventInfo.participantList,(function(e){return n("div",{key:e.name,staticClass:"participant"},[n("v-divider"),n("div",{staticClass:"d-flex flex-row"},[n("v-list-item-icon",[n("v-icon",{attrs:{large:""}},[t._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.name))])],1)],1)],1)})),0)],1)],1):t._e(),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}],null,!0)})],1)],1),n("v-card-text",[e.isCreatedFromOriginal?n("v-row",{staticClass:"mx-0 mb-3",attrs:{align:"center"}},[n("v-rating",{attrs:{value:e.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(e.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(e.reviewsCount)+" reviews) ")])],1):t._e(),n("div",{staticClass:"d-flex align-center justify-start  flex-row"},[n("div",{staticClass:"my-4 text-subtitle-1 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(e.startDatetime,e.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(e.endDatetime,e.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")]),e.IsCreatedFromOriginal?n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("restart_alt")]):t._e()],1),n("div",{staticClass:"description"},[t._v(t._s(t._f("textTruncate")(e.description,e.description)))])],1),n("v-divider",{staticClass:"mx-4"}),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"green"},on:{click:function(n){return t.UncancelClicked(e)}}},[t._v(" Uncancel ")]),e.friendsParticipantCount>0?n("v-alert",{attrs:{dense:"",type:"info"}},[t._v(" One of your friends participate here ")]):t._e()],1)],1)})),1)],1):n("div",[n("v-row",{staticClass:"d-flex align-start justify-start  flex-row"},t._l(this.$store.getters["sortBar/getCurrentUserEventItems"].finishedEvents,(function(e){return n("v-col",{key:e.eventId,attrs:{cols:"4"}},[n("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"374"}},[n("v-img",{attrs:{height:"250",src:e.imagePath}}),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[n("v-card-title",[t._v(t._s(e.eventName))])],1),n("v-col",{attrs:{cols:"6"}},[n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(s){var r=s.on,a=s.attrs;return[n("v-card-subtitle",t._g(t._b({on:{click:function(n){return t.$store.dispatch("eventInfo/getEventParticipants",e.pariticipantsIds)}}},"v-card-subtitle",a,!1),r),[t._v(" "+t._s(e.pariticipantsIds.length)+" participants ")])]}},{key:"default",fn:function(e){return[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("List of participants")]),t.$store.getters["eventInfo/isEverythingLoaded"]?n("v-card-text",[n("v-list",{staticClass:"overflow-y-auto mx-auto",attrs:{"max-height":"500"}},[n("v-list-item",{staticClass:"d-flex flex-column"},t._l(t.$store.state.eventInfo.participantList,(function(e){return n("div",{key:e.name,staticClass:"participant"},[n("v-divider"),n("div",{staticClass:"d-flex flex-row"},[n("v-list-item-icon",[n("v-icon",{attrs:{large:""}},[t._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h5"},[t._v(t._s(e.name))])],1)],1)],1)})),0)],1)],1):t._e(),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}],null,!0)})],1)],1),n("v-card-text",[n("v-row",{staticClass:"mx-0 mb-3",attrs:{align:"center"}},[n("v-rating",{attrs:{value:e.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(e.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(e.reviewsCount)+" reviews) ")])],1),n("div",{staticClass:"d-flex align-center justify-start  flex-row"},[n("div",{staticClass:"my-4 text-subtitle-1 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(e.startDatetime,e.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(e.endDatetime,e.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")]),e.IsCreatedFromOriginal?n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("restart_alt")]):t._e()],1),n("div",{staticClass:"description"},[t._v(t._s(t._f("textTruncate")(e.description,e.description)))])],1),n("v-divider",{staticClass:"mx-4"}),n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"secondary"},on:{click:function(n){return t.DetailsClicked(e)}}},[t._v(" Details ")]),t.IsUserAnAuthor(e)?n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"ml-2 mb-2 mt-2",attrs:{color:"primary"}},"v-btn",r,!1),s),[t._v(" Create new ")])]}}],null,!0)},[[n("AddNewEvent",{attrs:{event:e}})]],2):t._e(),t.IsUserAnAuthor(e)?t._e():n("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"ml-2 mb-2 mt-2",attrs:{color:"green"}},"v-btn",r,!1),s),[t._v(" Rate ")])]}}],null,!0)},[[n("EventRate",{attrs:{event:e}})]],2),t.IsUserAnAuthor(e)?n("v-alert",{staticClass:"mb-0",attrs:{dense:"",type:"info"}},[t._v(" Created by you ")]):t._e(),e.friendsParticipantCount>0?n("v-alert",{attrs:{dense:"",type:"info"}},[t._v(" One of your friends participate here ")]):t._e()],1)],1)})),1)],1)],1)},Ge=[],Je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-16 mx-auto"},[n("v-card-title",{staticClass:"text-h5"},[t._v(" Rate this event ")]),n("v-card-text",[t._v(" If you enjoyed this event, please take a few seconds to share your opinion about that! "),n("div",{staticClass:"text-center mt-12"},[n("v-rating",{attrs:{color:"yellow darken-3","background-color":"grey darken-1","empty-icon":"$ratingFull",hover:"",large:""},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)]),n("v-divider"),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{color:"primary",text:""},on:{click:t.RateClicked}},[t._v(" Rate Now ")])],1)],1)},Ke=[],Ye={name:"EventPage",props:{event:Object},computed:{},data:function(){return{rating:2}},mounted:function(){},components:{},methods:{RateClicked:function(){this.$store.dispatch("review/addReview",{rate:this.rating,authorId:this.$store.getters["login/getUserCreds"].UserId,eventId:this.event.eventId})}}},He=Ye,We=Object(v["a"])(He,Je,Ke,!1,null,null,null),Xe=We.exports;f()(We,{VBtn:g["a"],VCard:N["a"],VCardActions:q["a"],VCardText:q["c"],VCardTitle:q["d"],VDivider:$t["a"],VRating:Vt["a"]});var Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"elevation-16 mx-auto"},[n("v-card-title",{staticClass:"text-h5"},[t._v(" Add new event based on original ")]),n("v-card-text",[t._v(" Choose new time! "),n("v-row",{staticClass:"mt-5"},[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"mt-5",attrs:{medium:""}},[t._v("event")])],1),n("v-col",{attrs:{cols:"11"}},[n("v-datetime-picker",{attrs:{label:"Select start datetime of event"},model:{value:t.startEventDatetime,callback:function(e){t.startEventDatetime=e},expression:"startEventDatetime"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"mt-5",attrs:{medium:""}},[t._v("event")])],1),n("v-col",{attrs:{cols:"11"}},[n("v-datetime-picker",{attrs:{label:"Select start datetime of event"},model:{value:t.endEventDatetime,callback:function(e){t.endEventDatetime=e},expression:"endEventDatetime"}})],1)],1)],1),n("v-divider"),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{color:"primary",text:""},on:{click:t.AddEventClicked}},[t._v(" Add ")])],1),this.$store.getters["events/IsCorrect"]?t._e():n("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},t._l(this.$store.state.events.errors,(function(e){return n("li",{key:e,staticClass:"text-caption"},[t._v(" "+t._s(e)+" ")])})),0)],1)},Qe=[],tn={name:"EventPage",props:{event:Object},computed:{},data:function(){return{rating:2,startEventDatetime:new Date,endEventDatetime:new Date}},mounted:function(){},components:{},methods:{AddEventClicked:function(){var t=this;this.$store.dispatch("events/addEventBasedOnOriginal",{EventId:this.event.eventId,StartDatetime:this.startEventDatetime,EndDatetime:this.endEventDatetime,Rate:this.event.rate}).then((function(e){t.$toast.success("Event successfully added")}))}}},en=tn,nn=Object(v["a"])(en,Ze,Qe,!1,null,null,null),sn=nn.exports;f()(nn,{VAlert:M["a"],VBtn:g["a"],VCard:N["a"],VCardActions:q["a"],VCardText:q["c"],VCardTitle:q["d"],VCol:h["a"],VDivider:$t["a"],VIcon:C["a"],VRow:_["a"]});var rn={name:"MyEvents",mixins:[yt],mounted:function(){this.currentItem=this.items[0]},watch:{currentItem:function(t,e){t==this.items[0]?this.$store.commit("myEvents/change_title","My events -> "+this.items[0]):this.$store.commit("myEvents/change_title","My events -> "+this.items[1])}},computed:{DetailsClicked:function(){var t=this;return function(e){t.$router.push({name:"usereventfinish",params:{event:e}})}},UncancelClicked:function(){var t=this;return function(e){t.$store.dispatch("myEvents/uncancelEvent",e)}}},methods:{TypeChanged:function(){}},data:function(){return{items:["User cancelled events","User finished events"],currentItem:null}},components:{EventsSortbar:xt,EventRate:Xe,AddNewEvent:sn}},an=rn,on=(n("1154"),Object(v["a"])(an,ze,Ge,!1,null,"68ffb556",null)),cn=on.exports;f()(on,{VAlert:M["a"],VBtn:g["a"],VCard:N["a"],VCardActions:q["a"],VCardSubtitle:q["b"],VCardText:q["c"],VCardTitle:q["d"],VCol:h["a"],VDialog:B["a"],VDivider:$t["a"],VIcon:C["a"],VImg:Lt["a"],VList:ot["a"],VListItem:ct["a"],VListItemContent:lt["a"],VListItemIcon:dt["a"],VListItemTitle:lt["b"],VRating:Vt["a"],VRow:_["a"],VSelect:bt["a"],VToolbar:Ne["a"]});var ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{attrs:{cols:"3"}}),n("v-col",{attrs:{cols:"6"}},[n("v-form",{ref:"addEventForm",attrs:{"lazy-validation":""},model:{value:t.validAddEventForm,callback:function(e){t.validAddEventForm=e},expression:"validAddEventForm"}},[n("v-file-input",{attrs:{rules:[t.rules.required,t.rules.imgrule],filled:"",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an event image","prepend-icon":"mdi-camera",label:"Event image"},model:{value:t.eventImage,callback:function(e){t.eventImage=e},expression:"eventImage"}}),n("v-text-field",{attrs:{rules:[t.rules.required,t.rules.maxCharacters25],filled:"",counter:"25",hint:"Enter event title","prepend-icon":"title",label:"Event title"},model:{value:t.eventTitle,callback:function(e){t.eventTitle=e},expression:"eventTitle"}}),n("v-textarea",{attrs:{rules:[t.rules.required,t.rules.maxCharacters200],filled:"",name:"input-7-4",counter:"200","prepend-icon":"description",label:"Event description"},model:{value:t.eventDescription,callback:function(e){t.eventDescription=e},expression:"eventDescription"}}),n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"mt-5",attrs:{medium:""}},[t._v("event")])],1),n("v-col",{attrs:{cols:"11"}},[n("v-datetime-picker",{attrs:{label:"Select start datetime of event"},model:{value:t.startEventDatetime,callback:function(e){t.startEventDatetime=e},expression:"startEventDatetime"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-icon",{staticClass:"mt-5",attrs:{medium:""}},[t._v("event")])],1),n("v-col",{attrs:{cols:"11"}},[n("v-datetime-picker",{attrs:{label:"Select end datetime of event",W:""},model:{value:t.endEventDatetime,callback:function(e){t.endEventDatetime=e},expression:"endEventDatetime"}})],1)],1),n("v-row",[n("v-col",{staticClass:"mt-2",attrs:{cols:"1"}},[n("v-icon",{attrs:{medium:""}},[t._v("place")])],1),n("v-col",{attrs:{cols:"11"}},[n("v-subheader",{staticClass:"text-h6"},[t._v("Pick location of the event")])],1)],1),n("GoogleMaps"),n("v-btn",{staticClass:"mt-10",attrs:{"x-large":"",block:"",disabled:!t.validAddEventForm||"loading"===this.$store.state.events.status,color:"success"},on:{click:t.validateAddEventForm}},[t._v("Create")]),this.$store.getters["events/IsCorrect"]?t._e():n("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},t._l(this.$store.state.events.errors,(function(e){return n("li",{key:e,staticClass:"text-caption"},[t._v(" "+t._s(e)+" ")])})),0)],1)],1)],1)},dn=[],un=n("1da1"),vn=(n("96cf"),n("25f0"),n("bf19"),n("b0c0"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-row",[n("v-col",{staticClass:"mt-8",attrs:{cols:"12"}},[n("v-subheader",{staticClass:"d-block"},[t._v("Search and add a pin")])],1),n("v-col",{staticClass:"ml-3 mb-8",attrs:{cols:"12"}},[n("GmapAutocomplete",{attrs:{options:this.$autocompleteOptions},on:{place_changed:t.setPlace}}),n("v-btn",{staticClass:"ml-3",attrs:{elevation:"2"},on:{click:t.addMarker}},[t._v(" Set location ")])],1)],1),n("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.getCenter,zoom:12}},[n("GmapMarker",{attrs:{position:t.getMarkerPos},on:{click:function(e){t.center=t.getMarkerPos}}})],1)],1)}),mn=[],fn={name:"GoogleMap",data:function(){return{currentPlace:null,marker:{},center:void 0}},computed:{getCenter:function(){return this.center||this.$store.getters["location/getFormattedLocation"]},getMarkerPos:function(){return this.marker.position||this.getCenter}},methods:{setPlace:function(t){this.currentPlace=t},addMarker:function(){if(this.currentPlace){var t={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.marker={position:t},this.center=t,this.$store.commit("events/changePickedLocation",{Longitude:t.lng,Latitude:t.lat}),this.currentPlace=null}}}},pn=fn,gn=n("e0c7"),hn=Object(v["a"])(pn,vn,mn,!1,null,"a83e13f4",null),Cn=hn.exports;f()(hn,{VBtn:g["a"],VCol:h["a"],VRow:_["a"],VSubheader:gn["a"]});var _n={name:"AddEvent",computed:{},methods:{validateAddEventForm:function(){var t=this;return Object(un["a"])(regeneratorRuntime.mark((function e(){var n,s,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.addEventForm.validate()){e.next=17;break}return n=new FormData,s=t.$store.state.events.currentPickedLocation||t.$store.getters["location/getLocation"],r=s["Longitude"].toString(),a=s["Latitude"].toString(),i=function(e,n,s){return new Promise((function(r,a){o.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+s+","+n+"&key="+t.$googleApiKey+"&language=en").then((function(t){e.append("Location.Adress",t.data.results[t.data.results.length-2].address_components[0].short_name),r(t)})).catch((function(t){a(t)}))}))},e.next=8,i(n,r,a);case 8:n.append("EventName",t.eventTitle),n.append("Description",t.eventDescription),n.append("StartDatetime",t.startEventDatetime.toJSON()),n.append("EndDatetime",t.endEventDatetime.toJSON()),n.append("UserID",t.$store.getters["login/getUserCreds"].UserId),n.append("Image",t.eventImage,t.eventImage.name),n.append("Location.Longitude",r.replace(".",",")),n.append("Location.Latitude",a.replace(".",",")),t.$store.dispatch("events/addEvent",n).then((function(e){t.$toast.success("Event successfully added")}));case 17:case"end":return e.stop()}}),e)})))()}},data:function(){return{validAddEventForm:!1,rules:{required:function(t){return!!t||"Required"},imgrule:function(t){return!t||t.size<2e6||"Image size should be less than 2 MB!"},maxCharacters25:function(t){return[function(t){return t.length<=25||"Max 25 characters"}]},maxCharacters200:function(t){return[function(t){return t.length<=200||"Max 200 characters"}]}},eventTitle:"",eventDescription:"",startEventDatetime:new Date,endEventDatetime:new Date,eventImage:null}},components:{GoogleMaps:Cn}},bn=_n,In=n("23a7"),xn=n("a844"),En=Object(v["a"])(bn,ln,dn,!1,null,null,null),kn=En.exports;f()(En,{VAlert:M["a"],VBtn:g["a"],VCol:h["a"],VFileInput:In["a"],VForm:z["a"],VIcon:C["a"],VRow:_["a"],VSubheader:gn["a"],VTextField:Y["a"],VTextarea:xn["a"]});var yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"1"}},[n("router-link",{attrs:{to:"/userevents/myevents"}},[n("v-icon",{staticClass:"ml-10",attrs:{"x-large":""}},[t._v("arrow_back")])],1)],1),n("v-col",{attrs:{offset:"1",cols:"4"}},[n("v-img",{attrs:{"aspect-ratio":"0.1","max-height":"250",src:t.event.imagePath}}),n("div",{staticClass:"grey--text text-h1 text-darken-1 mb-2 text-center"},[t._v(" "+t._s(t.event.eventName)+" ")]),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("div",{staticClass:"my-4 text-h5 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(t.event.startDatetime,t.event.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(t.event.endDatetime,t.event.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")])],1),t.event.IsCreatedFromOriginal?n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("v-rating",{attrs:{value:t.event.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(t.event.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(t.event.reviewsCount)+" reviews) ")])],1):t._e()],1),n("v-col",{attrs:{cols:"4"}},[n("v-card",{staticClass:"text-body-1 pa-5 blue-grey lighten-3",attrs:{elevation:"2",outlined:"",shaped:"",tile:""}},[n("span",{staticClass:"description"},[t._v(t._s(t.event.description))])]),n("div",[t.IsAlreadySubscribed(t.event)?n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"red"},on:{click:function(e){return t.UnsubscribeClicked(t.event)}}},[t._v(" Unsubscribe ")]):n("v-btn",{staticClass:"ml-2 mb-2 mt-2",attrs:{depressed:"",color:"primary"},on:{click:function(e){return t.SubscribeClicked(t.event)}}},[t._v(" Subscribe ")])],1)],1)],1),t.isLocationLoaded?n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{offset:"2",cols:"8"}},[n("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.getEventLocation,zoom:12}},[n("GmapMarker",{attrs:{position:t.getEventLocation}})],1)],1)],1):t._e(),n("CommentsComponent",{attrs:{event:t.event}})],1)},wn=[],Un={name:"EventPage",props:{event:{}},computed:{getEventLocation:function(){return this.event.location},IsAlreadySubscribed:function(){var t=this;return function(e){return e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId)>-1}},UnsubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.splice(e.pariticipantsIds.indexOf(t.$store.getters["login/getUserCreds"].UserId),1),t.$store.dispatch("events/deleteEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}},SubscribeClicked:function(){var t=this;return function(e){e.pariticipantsIds.push(t.$store.getters["login/getUserCreds"].UserId),t.$store.dispatch("events/addEventParticipant",{UserId:t.$store.getters["login/getUserCreds"].UserId,EventId:e.eventId})}}},data:function(){return{isLocationLoaded:!1}},mounted:function(){var t=this,e=this.event.locationId,n=this.event.eventId;this.$store.dispatch("myEvents/getEventLocation",{locationId:e,eventId:n}).then((function(e){var n=e.data;t.event.location={lat:n.latitude,lng:n.longitude},t.isLocationLoaded=!0}))},components:{CommentsComponent:De}},$n=Un,Ln=(n("6c45"),Object(v["a"])($n,yn,wn,!1,null,"0d33614e",null)),Vn=Ln.exports;f()(Ln,{VBtn:g["a"],VCard:N["a"],VCol:h["a"],VIcon:C["a"],VImg:Lt["a"],VRating:Vt["a"],VRow:_["a"]});var Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"1"}},[n("router-link",{attrs:{to:"/userevents/myevents"}},[n("v-icon",{staticClass:"ml-10",attrs:{"x-large":""}},[t._v("arrow_back")])],1)],1),n("v-col",{attrs:{offset:"1",cols:"4"}},[n("v-img",{attrs:{"aspect-ratio":"0.1","max-height":"250",src:t.getImgSrc}}),n("v-file-input",{staticClass:"mt-5",attrs:{rules:[t.rules.imgrule],filled:"",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an event image","prepend-icon":"mdi-camera",label:"Event image"},model:{value:t.currentLoadedFile,callback:function(e){t.currentLoadedFile=e},expression:"currentLoadedFile"}}),n("v-text-field",{staticClass:"mt-5",attrs:{rules:[t.rules.required,t.rules.maxCharacters25],filled:"",counter:"50",hint:"Enter event title","prepend-icon":"title",label:"Event title"},model:{value:t.eventUserInput.eventName,callback:function(e){t.$set(t.eventUserInput,"eventName",e)},expression:"eventUserInput.eventName"}}),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("div",{staticClass:"my-4 text-h5 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(t.getCurrentStartTime,t.eventUserInput.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(t.getCurrentEndTime,t.eventUserInput.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")])],1),n("div",[n("v-col",{attrs:{cols:"12"}},[n("v-datetime-picker",{attrs:{label:"Update start datetime of event"},model:{value:t.eventUserInput.startDatetime,callback:function(e){t.$set(t.eventUserInput,"startDatetime",e)},expression:"eventUserInput.startDatetime"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-datetime-picker",{attrs:{label:"Update end datetime of event"},model:{value:t.eventUserInput.endDatetime,callback:function(e){t.$set(t.eventUserInput,"endDatetime",e)},expression:"eventUserInput.endDatetime"}})],1)],1),t.isLocationLoaded?n("v-col",{attrs:{cols:"12"}},[n("GmapAutocomplete",{attrs:{options:this.$autocompleteOptions},on:{place_changed:t.setPlace}}),n("v-btn",{staticClass:"ml-3",attrs:{elevation:"2"},on:{click:t.addMarker}},[t._v(" Set location ")])],1):t._e()],1),n("v-col",{attrs:{cols:"4"}},[n("v-textarea",{attrs:{rows:"8",rules:[t.rules.required,t.rules.maxCharacters200],filled:"",name:"input-7-4",counter:"1000","prepend-icon":"description",label:"Event description"},model:{value:t.eventUserInput.description,callback:function(e){t.$set(t.eventUserInput,"description",e)},expression:"eventUserInput.description"}}),n("div",[n("v-btn",{staticClass:"ml-8",attrs:{depressed:"",color:"red"},on:{click:function(e){return t.init()}}},[t._v(" Reset ")])],1)],1)],1),t.isLocationLoaded?n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{offset:"2",cols:"8"}},[n("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.getEventLocation,zoom:12}},[n("GmapMarker",{attrs:{position:t.getEventLocation}})],1),n("v-btn",{staticClass:"mt-10",attrs:{"x-large":"",block:"",color:"success"},on:{click:t.updateClicked}},[t._v("Update")]),this.$store.getters["myEvents/IsCorrect"]?t._e():n("v-alert",{attrs:{border:"top",color:"red lighten-2",dark:""}},t._l(this.$store.state.myEvents.errors,(function(e){return n("li",{key:e,staticClass:"text-caption"},[t._v(" "+t._s(e)+" ")])})),0)],1)],1):t._e()],1)},Dn=[],An=(n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("a4d3"),n("e01a"),{name:"EventPage",props:{event:{}},computed:{getEventLocation:function(){return this.currentPickedLocation||this.eventUserInput.location},getCurrentStartTime:function(){return this.eventUserInput.startDatetime.toJSON()},getCurrentEndTime:function(){return this.eventUserInput.endDatetime.toJSON()},getImgSrc:function(){return null==this.currentLoadedFile?this.eventUserInput.imagePath:URL.createObjectURL(this.currentLoadedFile)}},data:function(){return{eventUserInput:{},currentPlace:null,currentPickedLocation:null,currentLoadedFile:null,isLocationLoaded:!1,rules:{required:function(t){return!!t||"Required"},imgrule:function(t){return!t||t.size<2e6||"Image size should be less than 2 MB!"},maxCharacters25:function(t){return[function(t){return t.length<=50||"Max 50 characters"}]},maxCharacters200:function(t){return[function(t){return t.length<=1e3||"Max 1000 characters"}]}}}},mounted:function(){var t=this,e=this.event.locationId,n=this.event.eventId;this.event.startDatetime=new Date(this.event.startDatetime),this.event.endDatetime=new Date(this.event.endDatetime),this.$store.dispatch("events/getEventLocation",{locationId:e,eventId:n}).then((function(e){var n=e.data;t.event.location={lat:n.latitude,lng:n.longitude},t.isLocationLoaded=!0,t.init()}))},components:{},methods:{setPlace:function(t){this.currentPlace=t},addMarker:function(){if(this.currentPlace){var t=this.currentPlace.geometry.location.lng(),e=this.currentPlace.geometry.location.lat();this.currentPickedLocation={lat:e,lng:t},this.eventUserInput.location=this.currentPickedLocation}},init:function(){this.currentPickedLocation=null,this.currentLoadedFile=null,this.eventUserInput={eventId:this.event.eventId,eventName:this.event.eventName,description:this.event.description,startDatetime:this.event.startDatetime,endDatetime:this.event.endDatetime,location:{lat:this.event.location.lat,lng:this.event.location.lng},imagePath:this.event.imagePath}},updateClicked:function(){var t=this;return Object(un["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("EventName",t.eventUserInput.eventName),n.append("Description",t.eventUserInput.description),n.append("EventId",t.eventUserInput.eventId),n.append("StartDatetime",t.eventUserInput.startDatetime.toJSON()),n.append("EndDatetime",t.eventUserInput.endDatetime.toJSON()),t.currentLoadedFile?n.append("Image",t.currentLoadedFile,t.currentLoadedFile.name):n.append("Image",t.currentLoadedFile),s=function(e,n,s){return new Promise((function(r,a){o.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+s+","+n+"&key="+t.$googleApiKey+"&language=en").then((function(t){e.append("Location.Adress",t.data.results[t.data.results.length-2].address_components[0].short_name),r(t)})).catch((function(t){a(t)}))}))},e.next=10,s(n,t.eventUserInput.location.lng,t.eventUserInput.location.lat);case 10:t.currentPickedLocation?(n.append("Location.Longitude",t.currentPickedLocation.lng.toString().replace(".",",")),n.append("Location.Latitude",t.currentPickedLocation.lat.toString().replace(".",","))):(n.append("Location.Longitude",t.eventUserInput.location.lng.toString().replace(".",",")),n.append("Location.Latitude",t.eventUserInput.location.lat.toString().replace(".",","))),t.$store.dispatch("myEvents/updateEvent",n).then((function(e){t.$toast.success("Event successfully updated")}));case 12:case"end":return e.stop()}}),e)})))()}}}),Pn=An,On=(n("0eda"),Object(v["a"])(Pn,Sn,Dn,!1,null,"8a5aa25c",null)),Fn=On.exports;f()(On,{VAlert:M["a"],VBtn:g["a"],VCol:h["a"],VFileInput:In["a"],VIcon:C["a"],VImg:Lt["a"],VRow:_["a"],VTextField:Y["a"],VTextarea:xn["a"]});var Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{cols:"1"}},[n("router-link",{attrs:{to:"/userevents/myevents"}},[n("v-icon",{staticClass:"ml-10",attrs:{"x-large":""}},[t._v("arrow_back")])],1)],1),n("v-col",{attrs:{offset:"1",cols:"4"}},[n("v-img",{attrs:{"aspect-ratio":"0.1","max-height":"250",src:t.event.imagePath}}),n("div",{staticClass:"grey--text text-h1 text-darken-1 mb-2 text-center"},[t._v(" "+t._s(t.event.eventName)+" ")]),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("div",{staticClass:"my-4 text-h5 "},[t._v(" "+t._s(t._f("eventConvertDatetime")(t.event.startDatetime,t.event.startDatetime))+" - "+t._s(t._f("eventConvertDatetime")(t.event.endDatetime,t.event.endDatetime))+" ")]),n("v-icon",{staticClass:"ml-2",attrs:{small:""}},[t._v("event")])],1),n("div",{staticClass:"d-flex align-center justify-center  flex-row"},[n("v-rating",{attrs:{value:t.event.rate,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),n("div",{staticClass:"grey--text ms-4"},[t._v(" "+t._s(t.event.rate)+" ")]),n("div",{staticClass:"grey--text ms-4 ml-2"},[t._v(" ("+t._s(t.event.reviewsCount)+" reviews) ")])],1)],1),n("v-col",{attrs:{cols:"4"}},[n("v-card",{staticClass:"text-body-1 pa-5 blue-grey lighten-3",attrs:{elevation:"2",outlined:"",shaped:"",tile:""}},[n("span",{staticClass:"description"},[t._v(t._s(t.event.description))])])],1)],1),t.isLocationLoaded?n("v-row",{attrs:{"align-content":"center"}},[n("v-col",{attrs:{offset:"2",cols:"8"}},[n("GmapMap",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.getEventLocation,zoom:12}},[n("GmapMarker",{attrs:{position:t.getEventLocation}})],1)],1)],1):t._e()],1)},jn=[],Rn={name:"EventPage",props:{event:{}},computed:{getEventLocation:function(){return this.event.location}},data:function(){return{isLocationLoaded:!1}},mounted:function(){var t=this,e=this.event.locationId,n=this.event.eventId;this.$store.dispatch("myEvents/getEventLocation",{locationId:e,eventId:n}).then((function(e){var n=e.data;t.event.location={lat:n.latitude,lng:n.longitude},t.isLocationLoaded=!0}))},components:{}},Mn=Rn,Nn=(n("9684"),Object(v["a"])(Mn,Tn,jn,!1,null,"ef0683e6",null)),qn=Nn.exports;f()(Nn,{VCard:N["a"],VCol:h["a"],VIcon:C["a"],VImg:Lt["a"],VRating:Vt["a"],VRow:_["a"]});n("1232");var Bn=o.a.create({baseURL:"https://myeventbackend.azurewebsites.net",headers:{Accept:"application/json","Content-Type":"application/json"}});Bn.interceptors.request.use((function(t){var e=localStorage.getItem("token")||"";return e&&(t.headers.common.Authorization="Bearer "+e),t}),(function(t){return Promise.reject(t)})),Bn.interceptors.response.use((function(t){return 200===t.status||201===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){if(t.response.status){switch(t.response.status){case 400:break;case 401:alert("session expired"),as.dispatch("login/logout");break;case 403:break;case 404:break;case 502:setTimeout((function(){}),1e3)}return Promise.reject(t.response)}}));var zn=Bn,Gn=zn,Jn=n("b85c");function Kn(t){var e=[];for(var n in t){var s,r=Object(Jn["a"])(t[n]);try{for(r.s();!(s=r.n()).done;){var a=s.value;e.push(a)}}catch(i){r.e(i)}finally{r.f()}}return e}var Yn={namespaced:!0,state:function(){return{status:"",errors:[]}},getters:{IsCorrect:function(t){return 0===t.errors.length}},mutations:{registration_request:function(t){t.status="loading",t.errors=[]},registration_error:function(t,e){t.status="error",e.errors?t.errors=Kn(e.errors):t.errors=e},registration_success:function(t){t.status="success",t.errors=[]}},actions:{register:function(t,e){var n=t.commit;t.rootState,t.dispatch;return new Promise((function(t,s){n("registration_request"),Gn.post("/user/register",e).then((function(e){var s=e.data;n("registration_success"),n("login/login_success",s,{root:!0}),localStorage.setItem("token",s.token),t(e)})).catch((function(t){n("registration_error",t.data),s(t)}))}))}}},Hn={namespaced:!0,state:function(){return{user:null,status:"",errors:[],isLoggedIn:!1}},getters:{IsCorrect:function(t){return 0===t.errors.length},isLoggedIn:function(t){return t.isLoggedIn},getUserCreds:function(t){return t.user}},mutations:{login_request:function(t){t.status="loading",t.errors=[]},login_error:function(t,e){t.status="error",e.errors?t.errors=Kn(e.errors):t.errors=e},changeLogInStatus:function(t,e){t.isLoggedIn=e},login_success:function(t,e){t.status="success",t.errors=[],t.user=e},logout:function(t){t.status="logout",t.errors=[],t.user=null,localStorage.removeItem("token")}},actions:{login:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){n("login_request"),Gn.post("/user/login",e).then((function(e){var s=e.data;n("login_success",s),localStorage.setItem("token",s.token),t(e)})).catch((function(t){n("login_error",t.data),s(t)}))}))},logout:function(t){var e=t.commit;t.rootState;e("logout"),s["a"].$toast.warning("Log out",{position:"bottom-left",timeout:3e3,closeOnClick:!0,closeButton:"button",icon:!0,rtl:!1}),ls.push("/signin")}}},Wn={namespaced:!0,state:function(){return{latitude:0,longitude:0,locationAdress:"",locationAdressShort:"",status:"",errors:[]}},getters:{getFormattedLocation:function(t){return{lat:t.latitude,lng:t.longitude}},getLocation:function(t){return{Latitude:t.latitude,Longitude:t.longitude}}},mutations:{setLocationCoordinates:function(t,e){t.latitude=e.latitude,t.longitude=e.longitude},setLocationAdress:function(t,e){t.locationAdress=e},setLocationAdressShort:function(t,e){t.locationAdressShort=e}},actions:{}},Xn=(n("c740"),{namespaced:!0,state:function(){return{allEvents:[],errors:[],currentPickedLocation:void 0}},getters:{IsCorrect:function(t){return 0===t.errors.length}},mutations:{retriveve_error:function(t,e){e.errors?t.errors=Kn(e.errors):t.errors=e},retriveve_success:function(t,e){t.allEvents=e,t.errors=[]},changePickedLocation:function(t,e){t.currentPickedLocation=e},addLocationToEvent:function(t,e){var n=e.location,s=e.eventId,r=t.allEvents.findIndex((function(t){return t.eventId===s}));t.allEvents[r].location={lat:n.latitude,lng:n.longitude}},request_AddEvent:function(t){t.status="loading"},request_AddEvent_success:function(t){t.status="success",t.errors=[]},request_AddEvent_error:function(t,e){t.status="error",e.errors?t.errors=Kn(e.errors):t.errors=e}},actions:{getAllUpcomingEvents:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){Gn.get("/event/getAllUpcomingEvents",{params:{textToSearch:e,userId:as.getters["login/isLoggedIn"]?as.getters["login/getUserCreds"].UserId:null}}).then((function(e){var s=e.data;n("retriveve_success",s),n("sortBar/setCurrentUpcomingEventItems",s,{root:!0}),t(e)})).catch((function(t){n("retriveve_error",t.data),s(t)}))}))},getNearestEvents:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){Gn.get("/event/GetNearestEvents",{params:{longitute:e.lng,latitude:e.lat,userId:as.getters["login/isLoggedIn"]?as.getters["login/getUserCreds"].UserId:null}}).then((function(e){var s=e.data;n("retriveve_success",s),n("sortBar/setCurrentUpcomingEventItems",s,{root:!0}),t(e)})).catch((function(t){n("retriveve_error",t.data),s(t)}))}))},addEvent:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){n("request_AddEvent"),Gn.post("/event/addEvent",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){n("request_AddEvent_success"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n("request_AddEvent_error",t.data),r(t)}))}))},addEventBasedOnOriginal:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){n("request_AddEvent"),Gn.post("/event/addEventBasedOnOriginal",e).then((function(e){n("request_AddEvent_success"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n("request_AddEvent_error",t.data),r(t)}))}))},addEventParticipant:function(t,e){t.commit,t.rootState;return new Promise((function(t,n){Gn.post("/event/addEventParticipant",e).then((function(e){s["a"].$toast.success("Ok, you are in!"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n(t)}))}))},deleteEventParticipant:function(t,e){t.commit,t.rootState;return new Promise((function(t,n){Gn.delete("/event/deleteEventParticipant",{data:e}).then((function(e){s["a"].$toast.success("Ok, feel free!))"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n(t)}))}))},getEventLocation:function(t,e){var n=t.commit,s=(t.rootState,e.locationId),r=e.eventId;return new Promise((function(t,e){Gn.get("/event/getEventLocation",{params:{locationId:s}}).then((function(e){var s=e.data;n("addLocationToEvent",{location:s,eventId:r}),t(e)})).catch((function(t){e(t)}))}))}}}),Zn=(n("99af"),{namespaced:!0,state:function(){return{allUserEvents:null,allUserFinishedEvents:null,errors:[],currentTitle:""}},getters:{IsCorrect:function(t){return 0===t.errors.length},getConcatedUserEventsList:function(t){return t.allUserEvents?t.allUserEvents.createdEvents.concat(t.allUserEvents.participantEvents):[]},getConcatedUserFinishedEventsList:function(t){return t.allUserFinishedEvents?t.allUserFinishedEvents.finishedEvents.concat(t.allUserFinishedEvents.cancelledEvents):[]}},mutations:{change_title:function(t,e){t.currentTitle=e},userevents_retriveve_success:function(t,e){t.allUserEvents=e},userfinishedevents_retrieve_success:function(t,e){t.allUserFinishedEvents=e},removeUserAsParticipant:function(t,e){var n=t.allUserEvents.participantEvents.indexOf(e);t.allUserEvents.participantEvents.splice(n,1)},removeEventFromCreatedByUser:function(t,e){var n=t.allUserEvents.createdEvents.indexOf(e);t.allUserEvents.createdEvents.splice(n,1)},removeEventFromCancelledByUser:function(t,e){var n=t.allUserFinishedEvents.cancelledEvents.indexOf(e);t.allUserFinishedEvents.cancelledEvents.splice(n,1)},request_UpdateEvent_success:function(t){t.errors=[]},request_UpdateEvent_error:function(t,e){t.status="error",e.errors?t.errors=Kn(e.errors):t.errors=e}},actions:{getAllUserEvents:function(t,e){var n=t.commit,s=(t.rootState,e.userId),r=e.textToSearch;return new Promise((function(t,e){Gn.get("/event/getUserEvents",{params:{userId:s,textToSearch:r}}).then((function(e){var s=e.data;n("userevents_retriveve_success",s),n("sortBar/setCurrentUserEventItems",s,{root:!0}),t(e)})).catch((function(t){e(t)}))}))},getAllFinishedUserEvents:function(t,e){var n=t.commit,s=(t.rootState,e.userId),r=e.textToSearch;return new Promise((function(t,e){Gn.get("/event/getUserFinishedEvents",{params:{userId:s,textToSearch:r}}).then((function(e){var s=e.data;n("userfinishedevents_retrieve_success",s),n("sortBar/setCurrentUserEventItems",s,{root:!0}),t(e)})).catch((function(t){e(t)}))}))},cancelEvent:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){Gn.patch("/event/cancelEvent?eventId=".concat(e.eventId)).then((function(r){n("removeEventFromCreatedByUser",e),t(r),s["a"].$toast.success("Ok, event is cancelled")})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),r(t)}))}))},uncancelEvent:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){Gn.patch("/event/uncancelEvent?eventId=".concat(e.eventId)).then((function(r){n("removeEventFromCancelledByUser",e),s["a"].$toast.success("Ok, event is uncancelled!"),t(r)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),r(t)}))}))},updateEvent:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){Gn.put("/event/updateEvent",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){n("request_UpdateEvent_success"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n("request_UpdateEvent_error",t.data),r(t)}))}))},getEventLocation:function(t,e){t.commit,t.rootState;var n=e.locationId;e.eventId;return new Promise((function(t,e){Gn.get("/event/getEventLocation",{params:{locationId:n}}).then((function(e){t(e)})).catch((function(t){e(t)}))}))}}}),Qn=n("2909"),ts=(n("6062"),n("d81d"),n("4e827"),{namespaced:!0,state:function(){return{currentSearchFieldText:"ANY",currentUpcomingEventItems:[],currentUserEventItems:{}}},getters:{getAllEventAdresses:function(t,e,n,s){switch(n.route.fullPath){case"/":return Object(Qn["a"])(new Set(n.events.allEvents.map((function(t){return t.adressShort}))));case"/userevents/myevents":return Object(Qn["a"])(new Set(s["myEvents/getConcatedUserEventsList"].map((function(t){return t.adressShort}))));case"/userevents/finished":return Object(Qn["a"])(new Set(s["myEvents/getConcatedUserFinishedEventsList"].map((function(t){return t.adressShort}))))}},getCurrentUserEventItems:function(t){for(var e in t.currentUserEventItems){var n;t.currentUserEventItems[e]=null===(n=t.currentUserEventItems[e])||void 0===n?void 0:n.sort((function(t,e){return null!==t.friendsParticipantCount?1:-1}))}return t.currentUserEventItems},getCurrentUpcomingEventItems:function(t){var e=[];return e=t.currentUpcomingEventItems.sort((function(t,e){return null!==t.friendsParticipantCount?1:-1})),e}},mutations:{changeTextData:function(t,e){t.currentSearchFieldText=e},setCurrentUpcomingEventItems:function(t,e){t.currentUpcomingEventItems=e},setCurrentUserEventItems:function(t,e){t.currentUserEventItems=e}},actions:{filterData:function(t,e){var n=t.state,s=(t.getters,t.rootState);t.rootGetters;switch(s.route.fullPath){case"/":n.currentUpcomingEventItems=s.events.allEvents.filter((function(t){return e.some((function(e){return e===t.adressShort}))}));break;case"/userevents/myevents":s.myEvents.allUserEvents?n.currentUserEventItems={createdEvents:s.myEvents.allUserEvents.createdEvents.filter((function(t){return e.some((function(e){return e===t.adressShort}))})),participantEvents:s.myEvents.allUserEvents.participantEvents.filter((function(t){return e.some((function(e){return e===t.adressShort}))}))}:n.currentUserEventItems={createdEvents:[],participantEvents:[]};break;case"/userevents/finished":s.myEvents.allUserFinishedEvents?n.currentUserEventItems={finishedEvents:s.myEvents.allUserFinishedEvents.finishedEvents.filter((function(t){return e.some((function(e){return e===t.adressShort}))})),cancelledEvents:s.myEvents.allUserFinishedEvents.cancelledEvents.filter((function(t){return e.some((function(e){return e===t.adressShort}))}))}:n.currentUserEventItems={finishedEvents:[],cancelledEvents:[]};break}}}}),es={namespaced:!0,state:function(){return{participantList:[],isParticipantsLoaded:!1}},getters:{isEverythingLoaded:function(t){return t.isParticipantsLoaded}},mutations:{setParticipants:function(t,e){t.participantList=e,t.isParticipantsLoaded=!0}},actions:{getEventParticipants:function(t,e){var n=t.commit,s=(t.rootState,t.state);return s.isParticipantsLoaded=!1,new Promise((function(t,s){Gn.post("/user/getEventParticipants",e).then((function(e){var s=e.data;n("setParticipants",s),t(e)})).catch((function(t){s(t)}))}))}}},ns={namespaced:!0,state:function(){return{status:""}},getters:{},mutations:{review_request:function(t){t.status="loading"},review_error:function(t){t.status="error"},review_success:function(t){t.status="success"}},actions:{addReview:function(t,e){var n=t.commit;t.rootState,t.dispatch;return new Promise((function(t,r){n("review_request"),Gn.post("/review/addReview",e).then((function(e){n("review_success"),s["a"].$toast.success("Review successfully added"),t(e)})).catch((function(t){n("review_error",t.data),s["a"].$toast.error("Oops... you've already review it"),r(t)}))}))}}},ss={namespaced:!0,state:function(){return{allUsers:[],allUserFriends:[],friendInvitations:[],errors:[]}},getters:{getAllUsersLogins:function(t){return t.allUsers.map((function(t){return t.login}))}},mutations:{changeListOfUserFriends:function(t,e){t.allUserFriends=e},changeListOfUsers:function(t,e){t.allUsers=e},changeInvitationsList:function(t,e){t.friendInvitations=e},removeInvitationItem:function(t,e){t.friendInvitations=t.friendInvitations.filter((function(t){return t.invitationId!==e}))}},actions:{getUserFriends:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){Gn.get("/friends/getUserFriends",{params:{userId:e}}).then((function(e){var s=e.data;n("changeListOfUserFriends",s),t(e)})).catch((function(t){s(t)}))}))},getSearchedUsers:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){Gn.get("/friends/getSearchedUsers",{params:{toSearch:e.toSearch,currentUserId:e.currentUserId}}).then((function(e){var s=e.data;n("changeListOfUsers",s),t(e)})).catch((function(t){s(t)}))}))},getFriendsInvitations:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,s){Gn.get("/friends/getUserFriendInvitations",{params:{userId:e}}).then((function(e){var s=e.data;n("changeInvitationsList",s),t(e)})).catch((function(t){s(t)}))}))},addFriendInvitation:function(t,e){t.commit,t.rootState;return new Promise((function(t,n){Gn.post("/friends/addFriendInvitation",e).then((function(e){s["a"].$toast.success("Invitation sent"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n(t)}))}))},approveInvitation:function(t,e){var n=t.commit;t.rootState;return new Promise((function(t,r){n("removeInvitationItem",e),Gn.patch("/friends/approveInvitation?invitationId=".concat(e)).then((function(e){s["a"].$toast.success("Invitation approved"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),r(t)}))}))},rejectInvitation:function(t,e){var n=t.commit;t.rootState;return n("removeInvitationItem",e),new Promise((function(t,n){Gn.patch("/friends/rejectInvitation?invitationId=".concat(e)).then((function(e){s["a"].$toast.success("Invitation rejected"),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n(t)}))}))}}},rs=(n("fb6a"),{namespaced:!0,state:function(){return{comments:[],n:5}},getters:{getLastNComments:function(t){return t.comments.sort((function(t,e){return e.dateAdded-t.dateAdded})).slice(0,t.n)}},mutations:{changeCommentsList:function(t,e){t.comments=e}},actions:{addComment:function(t,e){t.commit,t.rootState,t.state;return new Promise((function(t,n){Gn.post("/comments/addComment",e).then((function(e){t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),n(t)}))}))},getEventComments:function(t,e){var n=t.commit;t.rootState,t.state;return new Promise((function(t,r){Gn.get("/comments/getEventComments",{params:{eventId:e}}).then((function(e){var s=e.data;n("changeCommentsList",s),t(e)})).catch((function(t){s["a"].$toast.error("Oops... something went wrong"),r(t)}))}))}}});s["a"].use(ht["a"]);var as=new ht["a"].Store({state:{route:null},mutations:{SET_ROUTE:function(t,e){t.route=e}},actions:{eventsTabClicked:function(){ls.push("/")},optionsTabClicked:function(){ls.push("/options")},friendsTabClicked:function(){ls.push("/friends")}},modules:{registration:Yn,login:Hn,location:Wn,events:Xn,myEvents:Zn,sortBar:ts,eventInfo:es,review:ns,friends:ss,comments:rs}});s["a"].use(A["a"]);var is=[{path:"/signin",name:"AuthView",component:tt},{path:"/",name:"AllEventsView",component:Tt},{path:"/eventpage",name:"eventpage",component:Fe,props:!0,meta:{requiresAuth:!0}},{path:"/usercreatedeventpage",name:"usercreatedeventpage",component:Fn,props:!0,meta:{requiresAuth:!0}},{path:"/userparticipanteventpage",name:"userparticipanteventpage",component:Vn,props:!0,meta:{requiresAuth:!0}},{path:"/usereventfinish",name:"usereventfinish",component:qn,props:!0,meta:{requiresAuth:!0}},{path:"/userevents",name:"UserEvents",meta:{requiresAuth:!0},component:xe,children:[{path:"myevents",name:"MyEvents",component:Be,meta:{requiresAuth:!0}},{path:"finished",name:"FinishedEvents",component:cn,meta:{requiresAuth:!0}},{path:"addevent",name:"AddEvent",component:kn,meta:{requiresAuth:!0}}]},{path:"/friends",name:"FriendsView",meta:{requiresAuth:!0},component:ce},{path:"/options",name:"OptionsView",meta:{requiresAuth:!0},component:pe}],os=new A["a"]({routes:is});function cs(){return localStorage.getItem("token")&&D.a.decode(localStorage.getItem("token"))?D.a.decode(localStorage.getItem("token")):null}os.beforeEach((function(t,e,n){if(as.commit("SET_ROUTE",t),t.matched.some((function(t){return t.meta.requiresAuth}))){var s=cs();if(null!==s)return as.commit("login/login_success",s),as.commit("login/changeLogInStatus",!0),void n();as.commit("login/changeLogInStatus",!1),n("/signin")}else{var r=cs();null!==r?(as.commit("login/login_success",r),as.commit("login/changeLogInStatus",!0)):as.commit("login/changeLogInStatus",!1),n()}}));var ls=os,ds=n("f309");s["a"].use(ds["a"]);var us=new ds["a"]({}),vs=n("6c42"),ms=n("b166"),fs=n("e3ee");function ps(t){if(t){var e=Object(ms["a"])(Object(fs["a"])(t),"MMMM do, yyyy hh:mm a");return e}}function gs(t){return t&&t.length>300?t.slice(0,300)+"...":t}var hs={install:function(t){t.filter("eventConvertDatetime",ps),t.filter("textTruncate",gs)}},Cs=n("ad24"),_s=n("0118"),bs=n("755e");n("da96"),n("d1e78");s["a"].config.productionTip=!1,s["a"].use(vs["a"],{transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0}),s["a"].use(Cs["a"]),s["a"].use(hs),s["a"].use(_s["a"]),s["a"].prototype.$autocompleteOptions={componentRestrictions:{country:["ua"]}},s["a"].prototype.$googleApiKey="AIzaSyAkNZBYc8_btHH5zmDS3Bxm3GMXaqLEqlM",s["a"].use(bs,{load:{key:s["a"].prototype.$googleApiKey,libraries:"places",language:"EN"}}),new s["a"]({toast:vs["a"],router:ls,store:as,vuetify:us,render:function(t){return t(V)}}).$mount("#app")},"6c45":function(t,e,n){"use strict";n("1b5e")},"7bc1":function(t,e,n){"use strict";n("cbce")},"7f6c":function(t,e,n){},8738:function(t,e,n){"use strict";n("dc4e")},9684:function(t,e,n){"use strict";n("057c")},"9ba1":function(t,e,n){"use strict";n("a562")},a562:function(t,e,n){},afc7:function(t,e,n){},b188:function(t,e,n){},cbce:function(t,e,n){},d45c:function(t,e,n){"use strict";n("f78d")},dc4e:function(t,e,n){},e434:function(t,e,n){"use strict";n("b188")},f252:function(t,e,n){"use strict";n("7f6c")},f78d:function(t,e,n){}});
//# sourceMappingURL=app.58af720a.js.map